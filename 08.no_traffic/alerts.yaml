groups:
- name: SumRate
  rules:
  - alert: TransactionSettlementNoOutboundSettledProcessed
    annotations:
      summary: "No `settled` events have been received for **outbound** transactions in the last 3 minutes"
      description: | 
        No `settled` events have been received for **outbound** transactions in the last 3 minutes for `provider1`.
      runbook_url: "https://your-oncall-docs.com/no-traffic"
    expr: |
      sum (rate(settlement_time_duration_seconds_bucket{app="transaction-settlement-consumers", provider="provider1"}[3m])) == 0
      or absent_over_time(settlement_time_duration_seconds_bucket{app="transaction-settlement-consumers", provider="provider1"}[3m])
    labels:
      severity: critical